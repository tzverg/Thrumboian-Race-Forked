<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Royalty</li>
    </mods>

    <match Class="PatchOperationSequence">
      <operations>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/FactionDef[defName="Empire"]/permanentEnemyToEveryoneExcept</xpath>

          <value>
            <li>PlayerThrumboianTribe</li>
          </value>
        </li>

        <!-- Guests -->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>

          <value>
            <li>
              <factionDef>ThrumboianTribe</factionDef>
              <pawnKinds>
                <li>Thrumboian_Penitent</li>
                <li>Thrumboian_Warrior</li>
                <li>Thrumboian_Archer</li>
              </pawnKinds>
            </li>
          </value>
        </li>

        <!-- Mercenaries -->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>

          <value>
            <li>
              <factionDef>ThrumboianTribe</factionDef>
              <pawnKinds>
                <li>Thrumboian_Hunter</li>
                <li>Thrumboian_Berserker</li>
                <li>Thrumboian_HeavyArcher</li>
              </pawnKinds>
            </li>
          </value>
        </li>
      </operations>
    </match>
  </Operation>

</Patch>
